<!DOCTYPE html>
<html>
<head>
<script type="text/javascript" src="jquery/jquery-3.1.1.min.js"></script>
<script type="text/javascript" src="jquery/jquery.dataTables/jquery.dataTables.min.js"></script>
<script type="text/javascript" src="bootstrap-3.3.5/js/bootstrap.min.js"></script>
<link rel="stylesheet" type="text/css" href="jquery/jquery.dataTables/jquery.dataTables.min.css" />
<link rel="stylesheet" type="text/css" href="bootstrap-3.3.5/css/bootstrap.min.css" />
<link rel="stylesheet" type="text/css" href="bootstrap-3.3.5/css/bootstrap-theme.min.css" />
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<ul class="nav nav-tabs">
		<li class="active"><a href="#upPower" data-toggle="tab">趁势追高</a></li>
		<li><a href="#lowPrice" data-toggle="tab">低价抄底</a></li>
		<li><a href="#downMakeT" data-toggle="tab">大跌做T</a></li>
	</ul>

	<div class="tab-content">
		<div class="tab-pane active" id="upPower">
			<table id="upPowerTable" class="display" width="100%"></table>
			
		</div>
		<div class="tab-pane" id="lowPrice">
		
		</div>
		<div class="tab-pane" id="downMakeT">
		
		</div>
	</div>
</body>
<script type="text/javascript">
var restfulContext="/PowerSniffer/rest";

$(document).ready(function() {
	fetchUpstockData();
	setInterval(fetchUpstockData,1000*60);
});
function fetchUpstockData(){
	var table=$('#upPowerTable').DataTable( {
		"ajax":restfulContext+"/goUpStrategy/getGoUpStockInfo?minPeRatio=0&maxPeRatio=100&maxDownPercent=30",
	    "columns": [
	        { title: "股票名称",data:"stockName"},
	        { name:"power",title: "上涨力道",data:"power" },
	        { title: "涨幅" ,data:"upDownRate"},
	        { title: "市盈率" ,data:"peRatio"},
	        { name:"downPercent",title: "底价跌幅",data:"downPercent" }
	    ],
	    destroy:true
	} );
	table.column(["power:name","downPercent:name"]).order("desc").draw();
}



</script>
</html>